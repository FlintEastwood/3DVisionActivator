#pragma once

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include <SFML/System.hpp>
#include "system/shutterGlasses.h"
#include "system/fbo.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

class SharedShutterState
{
public:
	SharedShutterState(int width, int height);

	void lock();
	void unlock();

	Fbo& getCurrentFbo(bool isLeftEye);

	float separation, convergence;
	bool stereo;

private:
	Fbo leftFbo, rightFbo;
	sf::Mutex mutex;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
