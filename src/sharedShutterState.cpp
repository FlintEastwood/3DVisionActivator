
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "sharedShutterState.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

SharedShutterState::SharedShutterState(int width, int height)
	: leftFbo(width, height)
	, rightFbo(width, height)
	//, separation(0.12f)
	, separation(0.05f)
	, convergence(1.47f)
	//, convergence(0.0f)
	, stereo(true)
{
}

void SharedShutterState::lock()
{
	mutex.lock();
}

void SharedShutterState::unlock()
{
	mutex.unlock();
}

Fbo& SharedShutterState::getCurrentFbo(bool isLeftEye)
{
	return (isLeftEye || !stereo) ? leftFbo : rightFbo;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
